/* ===== Reset / Layout ===== */
html,body{margin:0;padding:0}
.site-header,.site-footer,.page-header,.page-footer{display:none!important}
.page-content{padding:0!important;margin:0!important}

/* ===== Base (fallback: theme未使用時) ===== */
main.page{
  max-width:1200px;
  margin:0 auto;
  padding:12px 16px;
  line-height:1.7;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",
              "Hiragino Sans","Noto Sans JP","Hiragino Sans",
              "Yu Gothic","Meiryo",sans-serif;
  word-wrap:anywhere;
  color:#222;
  background:#fff;
}
h1,h2,h3{margin:.8em 0 .4em;line-height:1.25}
h1{font-size:1.9rem}
h2{font-size:1.5rem}
h3{font-size:1.25rem}

/* Links */
a{color:#0366d6;text-decoration:none}
a:hover{text-decoration:underline}
a:focus-visible{outline:2px solid rgba(3,102,214,.35);outline-offset:2px}

/* Blockquote (fallback) */
blockquote{
  margin:.8em 0;
  padding:.6em .9em;
  border-left:4px solid #d0d7de;
  background:#f8fafc;
  color:#333;
}

/* ===== Tables (fallback) ===== */
table{border-collapse:collapse;width:100%;margin:.8em 0}
th,td{border:1px solid #999;padding:6px 8px;vertical-align:top}
th{background:#f5f5f5;font-weight:600;text-align:left}

/* 横スクロール対応 */
.table-wrap{overflow-x:auto;-webkit-overflow-scrolling:touch}
.table-wrap > table{min-width:640px}

/* Media / Code */
img{max-width:100%;height:auto;display:block}
pre{
  overflow:auto;
  padding:10px;
  background:#fafafa;
  border:1px solid #eee;
  border-radius:4px;
  margin:.7em 0;
}
code,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace}
pre code{background:transparent;padding:0}

/* Mermaid */
.mermaid{display:block;margin:1.2em auto;max-width:100%;overflow:auto;text-align:center}

/* Mobile */
@media (max-width:640px){
  main.page{padding:10px 12px}
  h1{font-size:1.6rem}
  h2{font-size:1.35rem}
  h3{font-size:1.15rem}
  .table-wrap > table{min-width:100%}
}

/* =========================================================
   Portal unified look (theme-sepia)
   ========================================================= */
body.theme-sepia main.page{
  background:#fdf6e3;
  color:#3b2f2f;
}

/* 見出し */
body.theme-sepia h1,
body.theme-sepia h2,
body.theme-sepia h3{
  color:#003366;
  border-bottom:none;
  font-weight:700;
}
body.theme-sepia h1{font-size:2rem;text-align:left;margin-bottom:.8em}

/* Links */
body.theme-sepia a{
  color:#0066cc;
  font-weight:600;
  font-size:.95em;
  text-decoration:underline;
}
body.theme-sepia a:hover{color:#004c99}
body.theme-sepia a:focus-visible{outline:2px solid rgba(0,102,204,.35);outline-offset:2px}

/* Tables */
body.theme-sepia table{border:2px solid #999}
body.theme-sepia th{
  background:#e9ddc9;
  color:#2b2b2b;
  border:2px solid #999;
  font-weight:700;
  padding:.8em 1em;
}
body.theme-sepia td{
  border:1.5px solid #bbb;
  color:#2b2b2b;
  padding:.8em 1em;
}
body.theme-sepia tr:nth-child(odd) td{background:#fff}
body.theme-sepia tr:nth-child(even) td{background:#f3efe6}

/* Blockquote */
body.theme-sepia blockquote{
  background:#fbf6eb;
  border-left:4px solid #007acc;
  color:#3a3028;
}

/* ===== Callouts (Portal) ===== */
body.theme-sepia .note,
body.theme-sepia .tip,
body.theme-sepia .warn{
  border:1px solid #bbb;
  border-left:6px solid #007acc;
  background:#fbf6eb;
  padding:.9em 1em;
  border-radius:6px;
  margin:1.2em 0;
  color:#3a3028;
  line-height:1.6;
}
body.theme-sepia .tip { border-left-color:#16a34a; }
body.theme-sepia .warn{ border-left-color:#dc2626; }

/* ===== Code (sepia対応) ===== */
body.theme-sepia pre{
  background:#f3efe6;
  border:1px solid #bbb;
}

/* ===== Portal unified look (theme-sepia, hard override) ===== */
body.theme-sepia {
  background:#fdf6e3;
  color:#3b2f2f;
  font-family:"Noto Sans JP","Hiragino Kaku Gothic ProN","Yu Gothic",
               -apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;
  line-height:1.9;
  font-size:1.05em;
}

/* 見出し：青・H1左寄せ */
body.theme-sepia h1,
body.theme-sepia h2,
body.theme-sepia h3 {
  color:#003366;
  border-bottom:none;
  font-weight:700;
}
body.theme-sepia h1 { font-size:2rem; text-align:left; margin-bottom:.8em; }

/* リンク：太字＋下線 */
body.theme-sepia a {
  color:#0066cc;
  font-weight:600;
  font-size:.95em;
  text-decoration:underline;
}
body.theme-sepia a:hover { color:#004c99; }

/* 表：薄茶ヘッダー＋くっきり罫線＋ストライプ */
body.theme-sepia table { border-collapse:collapse; width:100%; margin-top:1em; font-size:1em; border:2px solid #999; }
body.theme-sepia th {
  background:#e9ddc9; color:#2b2b2b; border:2px solid #999;
  font-weight:700; text-align:left; padding:.8em 1em;
}
body.theme-sepia td { border:1.5px solid #bbb; color:#2b2b2b; padding:.8em 1em; }
body.theme-sepia tr:nth-child(odd)  td { background:#fff; }
body.theme-sepia tr:nth-child(even) td { background:#f3efe6; }

/* 引用（セピア調） */
body.theme-sepia blockquote {
  background:#fbf6eb;
  border-left:4px solid #007acc;
  color:#3a3028;
  padding:.8em 1em;
  margin:1em 0;
}

/* Mermaid の中央寄せ（保険） */
body.theme-sepia .mermaid { display:block; margin:1.5rem auto; max-width:960px; text-align:center; }
